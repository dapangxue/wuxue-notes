# 计算机网络

<img src="./img/ComputerNetwork.png" width="80%" height="80%">

常用的TCP/IP模型，主要分为四层：应用层、传输层、网络层、物理链路层。

数据在不同层级的传输，需要添加对应层的协议头，和上一层的协议类型。

<img src="./img/SendPackage.png" width="90%" height="80%">

## 数据链路层

数据链路层定义了通过通信媒介互连的设备之间传输的规范。通信媒介包括双绞线电缆、光纤等等。

### 路由控制

路由器根据控制表转发数据包，它根据收到的数据包中目标主机的IP地址与路由控制表进行比较，得到下一个应该接受此数据包的路由器。

#### 动态路由和静态路由

动态路由的路由控制信息不确定，它是让路由协议在运行过程中自动的设置路由控制信息的一种方法。

静态路由的路由控制固定，由使用者手工操控完成。

从控制的角度来看，静态路由鲁棒性较低，如果设置了静态路由的路由器发生故障，路由控制需要手动修改，而对于动态路由来说，可以寻找其他的可绕行的路径。

#### 路由算法

代表性的路由算法有`距离向量算法`和`链路状态算法`。

距离向量算法是计算通过不同的链路到达目的主机的代价来选择路径的一种算法。

链路状态算法就是每个路由器都掌握了一份网络拓扑图，路由器之间会同步网络拓扑信息，它可以看做在宏观的了解了网络整体状态的基础上生成了路由控制表的一种方法，根据路由控制表，将数据传送到不同的主机。

## 传输层

传输层除了TCP和UDP两种关键协议以外还有其他的协议。

传统的UDP协议对其载荷是完整校验的，也就是报文中有一位发生了偏差，这个报文也会丢弃掉，这样的代价是非常大的，UDP-Lite相等于是UDP协议的补充版，它适用于差错率比较大的传输，和UDP最大不同就是一个数据包到底需不需要对其载荷进行校验，或者校验多少位都是由使用者进行确定的，所以UDP-Lite更加适用于网络差错率较大，应用对轻微差错不敏感的状况。
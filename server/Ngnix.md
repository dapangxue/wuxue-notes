## Nginx

Ngnix是一款高性能的HTTP和反向代理服务器，它高度模块化的设计，除了较少的核心代码，还提供了五大类型模块：核心模块、配置模块、事件模块、HTTP模块、mail模块。
Nginx是静态的，删除和添加Nginx模块都需要对Nginx重新编译，而Apache属于动态的。

### Nginx的性能和优势

Nginx采用Linux的epoll机制，epoll模型基于事件驱动机制，它可以监控多个事件是否准备完毕，保证了Nginx的高效。

### nginx的原理

启动了Nginx后在80端口启动了服务器监听（LISTEN），Nginx涉及Master进程和Worker进程。

Master进程的作用：
+ 负责验证nginx.conf配置文件
+ 管理Worker进程

Worker进程的作用：
+ 每个Worker进程维护一个线程，处理连接和请求
+ Workder进程的个数和配置文件决定，一般和CPU个数有关

### 支持的负载均衡方式

+ 轮询负载均衡算法
+ 随机负载均恒算法
指定每台服务器的权重（weight）后，用于应对后台的服务器性能不均的情况
+ ip_hash
根据请求者的ip的hash值将请求发往不同的服务器，这种算法的特点就是同一个ip的请求访问的是固定的后台服务器
+ url_hash
根据请求URL的hash值确定访问的服务器，适用于缓存服务器
+ 最快响应算法（fair）
智能响应算法，后端的服务器集群中，处理时间短、响应快的服务器接收到的请求多，处理时间长、响应慢的服务器接收到的请求少